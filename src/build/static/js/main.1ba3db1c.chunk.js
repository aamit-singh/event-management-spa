(this["webpackJsonpevent-management"]=this["webpackJsonpevent-management"]||[]).push([[0],{117:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),i=a.n(o),c=(a(88),a(8)),l=a(52),s=a(11),m=a(21),u=(a(89),a(151)),p=a(154),d=a(156),v=a(158),g=a(159),f=a(157),E=a(71),h=a.n(E),b=a(18),y=a.n(b),j=function(e,t){switch(t.type){case"Login":return t.payload;case"Logout":return null;default:return e}},O=Object(n.createContext)(),w=function(e){var t=e.children,a=Object(n.useReducer)(j,null),o=Object(c.a)(a,2),i=o[0],l=o[1];return r.a.createElement(O.Provider,{value:{user:i,dispatch:l}},t)},x=Object(u.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function C(){var e=x(),t=Object(n.useContext)(O).dispatch;return r.a.createElement("div",{className:e.root},r.a.createElement(p.a,{position:"static"},r.a.createElement(d.a,null,r.a.createElement(f.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(h.a,null)),r.a.createElement(v.a,{variant:"h6",className:e.title},"Events"),r.a.createElement(g.a,{color:"inherit",onClick:function(){y.a.get("/api/logout").then((function(e){t({type:"Logout",payload:null})})).catch((function(e){console.log(e)}))}},"Logout"))))}var N=a(118),S=a(160),D=a(164),k=a(162),A=Object(u.a)((function(e){return{center:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{display:"flex",flexDirection:"column",flexGrow:1,margin:e.spacing(8),padding:e.spacing(2)},content:{display:"flex",flexDirection:"column",justifyContent:"left",margin:"1em",padding:"1em",height:"100%",position:"relative"},eventsBar:{display:"flex",flexDirection:"row",justifyContent:"space-between"},event:{display:"flex",flexDirection:"row",padding:"0.2em",margin:"0.2em",backgroundColor:"aliceblue"}}})),L=function(e){var t=A(),a=Object(n.useState)([]),o=Object(c.a)(a,2),i=o[0],l=o[1],s=Object(n.useState)(!0),u=Object(c.a)(s,2),p=u[0],d=u[1],f=Object(n.useState)(!1),E=Object(c.a)(f,2),h=E[0],b=E[1],j=Object(n.useState)(""),w=Object(c.a)(j,2),x=w[0],C=w[1],L=Object(n.useContext)(O).user;Object(n.useEffect)((function(){y.a.get("/api/events").then((function(e){l(e.data.events),d(!1)})).catch((function(e){b(!0),typeof e.response.data===String&&C(e.response.data)}))}),[L]);var B=function(e,t){"clickaway"!==t&&b(!1)};return r.a.createElement("div",{className:t.center},r.a.createElement(N.a,{className:t.paper,elevation:3,style:{minHeight:"50vh",width:"90vw"}},r.a.createElement("div",{className:t.eventsBar},r.a.createElement(v.a,{color:"primary",variant:"h3",align:"left"},"Events"),r.a.createElement(g.a,{variant:"contained",color:"primary",align:"right",style:{margin:"0.7em"}},r.a.createElement(m.b,{to:"/events/addEvent",style:{color:"white"}}," ","Add Event"))),r.a.createElement(N.a,{elevation:0,className:t.content},i.length>0?i.map((function(e,a){return r.a.createElement(N.a,{key:a,className:t.event},r.a.createElement(S.a,{container:!0},r.a.createElement(S.a,{item:!0,md:3,lg:3},r.a.createElement(v.a,{align:"left",style:{padding:"0em 1em"}},"Name: ",e.name)),r.a.createElement(S.a,{item:!0,md:9,lg:9},r.a.createElement(v.a,{align:"left"},"Discription: ",e.description))))})):!0===p?"":r.a.createElement(v.a,{variant:"h5",align:"left"},"No Events"))),r.a.createElement(D.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:h,autoHideDuration:6e3,onClose:B},r.a.createElement(k.a,{elevation:6,variant:"filled",onClose:B,severity:"error"},x)))},B=a(161),H=Object(u.a)((function(e){return{center:{display:"flex",alignItems:"center",justifyContent:"left",flexDirection:"column"},paper:{display:"flex",flexDirection:"column",flexGrow:1,margin:e.spacing(8),padding:e.spacing(2)},content:{display:"flex",flexDirection:"column",justifyContent:"left",margin:"1em",padding:"1em",height:"100%",position:"relative"}}})),P=function(e){var t=H(),a=Object(n.useState)("name"),o=Object(c.a)(a,2),i=o[0],l=o[1],u=Object(n.useState)("some event"),p=Object(c.a)(u,2),d=p[0],f=p[1],E=Object(n.useState)(!1),h=Object(c.a)(E,2),b=h[0],j=h[1],O=Object(n.useState)(""),w=Object(c.a)(O,2),x=w[0],C=w[1],S=Object(s.g)(),A=function(e,t){"clickaway"!==t&&j(!1)};return r.a.createElement("div",{className:t.center},r.a.createElement(g.a,{variant:"contained",color:"primary"},r.a.createElement(m.b,{to:"/events/overview",style:{color:"white"}},"All Events"," ")),r.a.createElement(N.a,{className:t.paper,elevation:3,style:{minHeight:"50vh",width:"90vw"}},r.a.createElement("div",null,r.a.createElement(v.a,{color:"primary",variant:"h4",align:"left"},"Add Event")),r.a.createElement(N.a,{elevation:0,className:t.content},r.a.createElement(B.a,{variant:"outlined",name:"eventName",placeholder:"Event Name",type:"string",label:"Event Name",style:{margin:"0.5em"},onChange:function(e){l(e.target.value)}}),r.a.createElement(B.a,{variant:"outlined",name:"eventDiscription",placeholder:"Event Discription",type:"string",label:"Event Discription",style:{margin:"0.5em"},onChange:function(e){f(e.target.value)}}),r.a.createElement(g.a,{variant:"contained",color:"primary",onClick:function(){!function(e,t){y.a.post("/api/addEvent",{eventName:e,eventDescription:t}).then((function(e){S.push("/events/overview")})).catch((function(e){console.log(e.response),j(!0),typeof e.response.data===String&&C(e.response.data)}))}(i,d)},style:{margin:"0.5em"}},"Add"))),r.a.createElement(D.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:b,autoHideDuration:6e3,onClose:A},r.a.createElement(k.a,{elevation:6,variant:"filled",onClose:A,severity:"error"},x)))},z=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(C,null),r.a.createElement("section",{className:"App-header"},r.a.createElement(m.a,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/events/overview",component:L}),r.a.createElement(s.b,{exact:!0,path:"/events/addEvent",component:P})))))},I=Object(u.a)((function(e){return{center:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{display:"flex",flexDirection:"column",margin:e.spacing(8),padding:e.spacing(2)}}})),U=function(e){var t=I(),a=Object(n.useState)(""),o=Object(c.a)(a,2),i=o[0],l=o[1],s=Object(n.useState)(""),u=Object(c.a)(s,2),p=u[0],d=u[1],f=Object(n.useState)(!1),E=Object(c.a)(f,2),h=E[0],b=E[1],j=Object(n.useState)(""),w=Object(c.a)(j,2),x=w[0],C=w[1],S=Object(n.useContext)(O).dispatch,A=function(e,t){"clickaway"!==t&&b(!1)};return r.a.createElement("div",{className:t.center},r.a.createElement(N.a,{className:t.paper,elevation:3},r.a.createElement(v.a,{color:"primary",variant:"h3",align:"center"},"Login"),r.a.createElement(B.a,{variant:"outlined",name:"userEmail",placeholder:"Email",type:"email",label:"User Email",style:{margin:"0.5em"},onChange:function(e){l(e.target.value)}},"Email"),r.a.createElement(B.a,{variant:"outlined",name:"password",placeholder:"password",type:"password",label:"Passord",style:{margin:"0.5em"},onChange:function(e){d(e.target.value)}},"Password"),r.a.createElement(g.a,{variant:"contained",color:"primary",onClick:function(e){y.a.post("/api/login",{userEmail:i,password:p}).then((function(e){console.log(e),S({type:"Login",payload:e.config.data})})).catch((function(e){if(b(!0),e.response){console.log(e.response);var t=e.response.statusText;C(t="Unauthorized"===t?"Wrong username or password":t)}else C("server error")}))},style:{margin:"0.5em"}},"Submit")),r.a.createElement(v.a,null,"Don't have an accont? ",r.a.createElement(m.b,{to:"/register"}," Register")),r.a.createElement(D.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:h,autoHideDuration:6e3,onClose:A},r.a.createElement(k.a,{elevation:6,variant:"filled",onClose:A,severity:"error"},x)))},G=Object(u.a)((function(e){return{center:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{display:"flex",flexDirection:"column",margin:e.spacing(8),padding:e.spacing(2)}}})),R=function(e){var t=G(),a=Object(n.useState)(""),o=Object(c.a)(a,2),i=o[0],l=o[1],u=Object(n.useState)(""),p=Object(c.a)(u,2),d=p[0],f=p[1],E=Object(n.useState)(""),h=Object(c.a)(E,2),b=h[0],j=h[1],O=Object(n.useState)(""),w=Object(c.a)(O,2),x=w[0],C=w[1],S=Object(n.useState)(!1),A=Object(c.a)(S,2),L=A[0],H=A[1],P=Object(n.useState)(""),z=Object(c.a)(P,2),I=z[0],U=z[1],R=Object(s.g)(),W=function(e,t){"clickaway"!==t&&H(!1)};return r.a.createElement("div",{className:t.center},r.a.createElement(N.a,{className:t.paper,elevation:3},r.a.createElement(v.a,{color:"primary",variant:"h3",align:"center"},"Register"),r.a.createElement(B.a,{variant:"outlined",name:"userName",placeholder:"User name",type:"string",label:"Username",style:{margin:"0.5em"},onChange:function(e){l(e.target.value)}},"UserName"),r.a.createElement(B.a,{variant:"outlined",name:"userEmail",placeholder:"Email",type:"email",label:"Email",style:{margin:"0.5em"},onChange:function(e){f(e.target.value)}},"Email"),r.a.createElement(B.a,{variant:"outlined",name:"password",placeholder:"password",type:"password",label:"Password",style:{margin:"0.5em"},onChange:function(e){j(e.target.value)}},"Password"),r.a.createElement(B.a,{variant:"outlined",name:"password",placeholder:"confirm password",type:"password",label:"Confirm password",style:{margin:"0.5em"},onChange:function(e){C(e.target.value)}},"Confirm Password"),r.a.createElement(g.a,{variant:"contained",color:"primary",onClick:function(e){if(b!==x)H(!0),U("password dont match");else{y.a.post("/api/register",{userName:i,userEmail:d,password:b}).then((function(e){console.log(e.data),R.push("/events")})).catch((function(e){console.error(e),H(!0),typeof e.response.data===String&&U(e.response.data)}))}},style:{margin:"0.5em"}},"Submit")),r.a.createElement(v.a,null,"Already registered? ",r.a.createElement(m.b,{to:"/login"}," Login ")),r.a.createElement(D.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:L,autoHideDuration:6e3,onClose:W},r.a.createElement(k.a,{elevation:6,variant:"filled",onClose:W,severity:"error"},I)))};y.a.defaults.withCredentials=!0;var W=function(e){var t=e.component,a=e.isAuthenticated,n=Object(l.a)(e,["component","isAuthenticated"]);return r.a.createElement(s.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(s.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},J=function(e){var t=e.component,a=e.isAuthenticated,n=Object(l.a)(e,["component","isAuthenticated"]);return r.a.createElement(s.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(s.a,{to:{pathname:"/events/overview"}}):r.a.createElement(t,e)}}))},M=function(){var e=Object(n.useContext)(O),t=e.user,a=e.dispatch,o=Object(n.useState)(!0),i=Object(c.a)(o,2),l=i[0],u=i[1];Object(n.useEffect)((function(){y.a.get("/api/auth").then((function(e){void 0===e.data.err&&a({type:"Login",payload:e.data.user}),u(!1)})).catch((function(e){console.error(e),u(!1)}))}),[]);var p=null!==t;return!0===l?r.a.createElement("div",null):r.a.createElement(m.a,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",render:function(){return r.a.createElement(s.a,{to:"/events/overview"})}}),r.a.createElement(s.b,{exact:!0,path:"/events",render:function(){return r.a.createElement(s.a,{to:"/events/overview"})}}),r.a.createElement(s.b,{exact:!0,path:"/register",component:R}),r.a.createElement(W,{path:"/events",component:z,isAuthenticated:p}),r.a.createElement(J,{path:"/login",component:U,isAuthenticated:p})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null,r.a.createElement(M,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},83:function(e,t,a){e.exports=a(117)},88:function(e,t,a){},89:function(e,t,a){}},[[83,1,2]]]);
//# sourceMappingURL=main.1ba3db1c.chunk.js.map